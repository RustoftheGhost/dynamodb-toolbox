"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5215],{15680:(e,t,n)=>{n.d(t,{xA:()=>d,yg:()=>c});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},y=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),g=p(n),y=r,c=g["".concat(s,".").concat(y)]||g[y]||m[y]||o;return n?a.createElement(c,i(i({ref:t},d),{},{components:n})):a.createElement(c,i({ref:t},d))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=y;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[g]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}y.displayName="MDXCreateElement"},19365:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(96540),r=n(20053);const o={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:n,className:i}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.A)(o.tabItem,i),hidden:n},t)}},11470:(e,t,n)=>{n.d(t,{A:()=>v});var a=n(58168),r=n(96540),o=n(20053),i=n(23104),l=n(56347),s=n(57485),p=n(31682),d=n(89466);function g(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function m(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??g(n);return function(e){const t=(0,p.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function y(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function c(e){let{queryString:t=!1,groupId:n}=e;const a=(0,l.W6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s.aZ)(o),(0,r.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(a.location.search);t.set(o,e),a.replace({...a.location,search:t.toString()})}),[o,a])]}function u(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,o=m(e),[i,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!y({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:o}))),[s,p]=c({queryString:n,groupId:a}),[g,u]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,o]=(0,d.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:a}),N=(()=>{const e=s??g;return y({value:e,tabValues:o})?e:null})();(0,r.useLayoutEffect)((()=>{N&&l(N)}),[N]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!y({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),p(e),u(e)}),[p,u,o]),tabValues:o}}var N=n(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function h(e){let{className:t,block:n,selectedValue:l,selectValue:s,tabValues:p}=e;const d=[],{blockElementScrollPositionUntilNextRender:g}=(0,i.a_)(),m=e=>{const t=e.currentTarget,n=d.indexOf(t),a=p[n].value;a!==l&&(g(t),s(a))},y=e=>{let t=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const n=d.indexOf(e.currentTarget)+1;t=d[n]??d[0];break}case"ArrowLeft":{const n=d.indexOf(e.currentTarget)-1;t=d[n]??d[d.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":n},t)},p.map((e=>{let{value:t,label:n,attributes:i}=e;return r.createElement("li",(0,a.A)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>d.push(e),onKeyDown:y,onClick:m},i,{className:(0,o.A)("tabs__item",b.tabItem,i?.className,{"tabs__item--active":l===t})}),n??t)})))}function C(e){let{lazy:t,children:n,selectedValue:a}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function f(e){const t=u(e);return r.createElement("div",{className:(0,o.A)("tabs-container",b.tabList)},r.createElement(h,(0,a.A)({},e,t)),r.createElement(C,(0,a.A)({},e,t)))}function v(e){const t=(0,N.A)();return r.createElement(f,(0,a.A)({key:String(t)},e))}},95869:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>c,frontMatter:()=>l,metadata:()=>p,toc:()=>g});var a=n(58168),r=(n(96540),n(15680)),o=n(11470),i=n(19365);const l={title:"ParseCondition",sidebar_custom_props:{sidebarActionType:"util"}},s="ConditionParser",p={unversionedId:"entities/actions/parse-condition/index",id:"entities/actions/parse-condition/index",title:"ParseCondition",description:"Builds a Condition Expression that can be used to condition write operations, or filter the results of a Query or a Scan:",source:"@site/docs/3-entities/4-actions/18-parse-condition/index.md",sourceDirName:"3-entities/4-actions/18-parse-condition",slug:"/entities/actions/parse-condition/",permalink:"/docs/entities/actions/parse-condition/",draft:!1,tags:[],version:"current",frontMatter:{title:"ParseCondition",sidebar_custom_props:{sidebarActionType:"util"}},sidebar:"tutorialSidebar",previous:{title:"Parse",permalink:"/docs/entities/actions/parse/"},next:{title:"ParsePaths",permalink:"/docs/entities/actions/parse-paths/"}},d={},g=[{value:"Methods",id:"methods",level:2},{value:"<code>parse(...)</code>",id:"parse",level:3},{value:"<code>toCommandOptions()</code>",id:"tocommandoptions",level:3},{value:"<code>setId(...)</code>",id:"setid",level:3},{value:"Building Conditions",id:"building-conditions",level:2},{value:"Paths",id:"paths",level:3},{value:"Value conditions",id:"value-conditions",level:3},{value:"Range conditions",id:"range-conditions",level:3},{value:"Combining Conditions",id:"combining-conditions",level:2},{value:"Comparing Attributes",id:"comparing-attributes",level:2}],m={toc:g},y="wrapper";function c(e){let{components:t,...n}=e;return(0,r.yg)(y,(0,a.A)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"conditionparser"},"ConditionParser"),(0,r.yg)("p",null,"Builds a ",(0,r.yg)("a",{parentName:"p",href:"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.ConditionExpressions.html"},"Condition Expression")," that can be used to condition write operations, or filter the results of a ",(0,r.yg)("a",{parentName:"p",href:"/docs/tables/actions/query/"},"Query")," or a ",(0,r.yg)("a",{parentName:"p",href:"/docs/tables/actions/scan/"},"Scan"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"import { ConditionParser } from 'dynamodb-toolbox/entity/actions/parseCondition'\n\n// \ud83d\udc47 To be used in DynamoDB commands\nconst {\n  ConditionExpression,\n  ExpressionAttributeNames,\n  ExpressionAttributeValues\n} = PokemonEntity.build(ConditionParser)\n  .parse({\n    // Pokemons with levels \u2265 50\n    attr: 'level',\n    gte: 50\n  })\n  .toCommandOptions()\n")),(0,r.yg)("h2",{id:"methods"},"Methods"),(0,r.yg)("h3",{id:"parse"},(0,r.yg)("inlineCode",{parentName:"h3"},"parse(...)")),(0,r.yg)("p",{style:{marginTop:"-15px"}},(0,r.yg)("i",null,(0,r.yg)("code",null,"(condition: Condition<ENTITY>) => ConditionParser"))),(0,r.yg)("p",null,"Parses a condition. Throws an ",(0,r.yg)("inlineCode",{parentName:"p"},"invalidCondition")," error if the condition is invalid:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"PokemonEntity.build(ConditionParser).parse({\n  attr: 'level',\n  gte: 50\n})\n")),(0,r.yg)("p",null,"Note that the ",(0,r.yg)("inlineCode",{parentName:"p"},"parse")," method should only be used once per instance (for now). See ",(0,r.yg)("a",{parentName:"p",href:"#building-conditions"},"Building Conditions")," for more details on how to write conditions."),(0,r.yg)("h3",{id:"tocommandoptions"},(0,r.yg)("inlineCode",{parentName:"h3"},"toCommandOptions()")),(0,r.yg)("p",{style:{marginTop:"-15px"}},(0,r.yg)("i",null,(0,r.yg)("code",null,"() => CommandOptions"))),(0,r.yg)("p",null,"Collapses the ",(0,r.yg)("inlineCode",{parentName:"p"},"ConditionParser")," state to a set of options that can be used in a DynamoDB command:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const {\n  ConditionExpression,\n  ExpressionAttributeNames,\n  ExpressionAttributeValues\n} = PokemonEntity.build(ConditionParser)\n  .parse({ attr: 'level', gte: 50 })\n  .toCommandOptions()\n")),(0,r.yg)("h3",{id:"setid"},(0,r.yg)("inlineCode",{parentName:"h3"},"setId(...)")),(0,r.yg)("p",{style:{marginTop:"-15px"}},(0,r.yg)("i",null,(0,r.yg)("code",null,"(id: string) => ConditionParser"))),(0,r.yg)("p",null,"Adds a prefix to expression attribute keys. Useful to avoid conflicts when using several expressions in a single command:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"PokemonEntity.build(ConditionParser)\n  .parse({ attr: 'level', gte: 50 })\n  .toCommandOptions()\n// => {\n//   ConditionExpression: '#c_1 >= :c_1',\n//   ExpressionAttributeNames: { '#c_1': 'sk' },\n//   ExpressionAttributeValues: { ':c_1': 50 }\n// }\n\nPokemonEntity.build(ConditionParser)\n  .setId('0')\n  .parse({ attr: 'level', gte: 50 })\n  .toCommandOptions()\n// => {\n//   ConditionExpression: '#c0_1 >= :c0_1',\n//   ExpressionAttributeNames: { '#c0_1': 'sk' },\n//   ExpressionAttributeValues: { ':c0_1': 50 }\n// }\n")),(0,r.yg)("h2",{id:"building-conditions"},"Building Conditions"),(0,r.yg)("p",null,"The condition syntax from DynamoDB-Toolbox follows the ",(0,r.yg)("a",{parentName:"p",href:"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.OperatorsAndFunctions.html"},"DynamoDB specifications"),", while making it ",(0,r.yg)("strong",{parentName:"p"},"type-safe")," and much ",(0,r.yg)("strong",{parentName:"p"},"simpler"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"import type { Condition } from 'dynamodb-toolbox/entity/actions/parseCondition'\n\nconst condition: Condition<typeof PokemonEntity> = {\n  attr: 'level',\n  gte: 50\n}\n")),(0,r.yg)("p",null,"Each condition contains ",(0,r.yg)("strong",{parentName:"p"},"an attribute path")," and an ",(0,r.yg)("strong",{parentName:"p"},"operator"),"."),(0,r.yg)("admonition",{type:"info"},(0,r.yg)("p",{parentName:"admonition"},"You can only specify one operator per condition. To combine multiple conditions, use ",(0,r.yg)("a",{parentName:"p",href:"#combining-conditions"},"Logical Combinations"),".")),(0,r.yg)("h3",{id:"paths"},"Paths"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"attr")," contains the path of the attribute value to check (potentially deep). You can also specify ",(0,r.yg)("inlineCode",{parentName:"p"},"size")," instead of ",(0,r.yg)("inlineCode",{parentName:"p"},"attr")," if you want to check the ",(0,r.yg)("strong",{parentName:"p"},"size")," of an attribute (in which case the attribute type becomes ",(0,r.yg)("inlineCode",{parentName:"p"},"number"),"):"),(0,r.yg)("admonition",{title:"Examples",type:"note"},(0,r.yg)(o.A,{mdxType:"Tabs"},(0,r.yg)(i.A,{value:"root",label:"Root",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const nameCheck: Condition<typeof PokemonEntity> = {\n  attr: 'name',\n  eq: 'Pikachu'\n}\n"))),(0,r.yg)(i.A,{value:"deep-map",label:"Deep (Map)",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const nameCheck: Condition<typeof PokemonEntity> = {\n  attr: 'name.firstName',\n  eq: 'Pikachu'\n}\n"))),(0,r.yg)(i.A,{value:"deep-list",label:"Deep (List)",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const nameCheck: Condition<typeof PokemonEntity> = {\n  attr: 'names[0]',\n  eq: 'Pikachu'\n}\n"))),(0,r.yg)(i.A,{value:"special-char",label:"Special characters",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const nameCheck: Condition<typeof PokemonEntity> = {\n  attr: \"name['.first#Name!']\",\n  eq: 'Pikachu'\n}\n"))),(0,r.yg)(i.A,{value:"size",label:"Size",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const imgLte64KB: Condition<typeof PokemonEntity> = {\n  size: 'image',\n  lte: 64_000\n}\n"))))),(0,r.yg)("h3",{id:"value-conditions"},"Value conditions"),(0,r.yg)("p",null,"Value conditions evaluate against the ",(0,r.yg)("strong",{parentName:"p"},"value")," of an attribute:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:"center"},"Key"),(0,r.yg)("th",{parentName:"tr",align:"center"},"Value"),(0,r.yg)("th",{parentName:"tr",align:"center"},"Attribute Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"eq")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"scalar")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"scalar"),"*"),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the attribute is ",(0,r.yg)("strong",{parentName:"td"},"equal")," to the specified value")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"ne")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"scalar")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"scalar")),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the attribute is ",(0,r.yg)("strong",{parentName:"td"},"different")," than the specified value")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"in")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"scalar[]")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"scalar")),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the attribute is in a ",(0,r.yg)("strong",{parentName:"td"},"finite range of values")," (100 values max)")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"contains")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"scalar")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"string"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"sets")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"lists")),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the attribute is one of the following:",(0,r.yg)("ul",null,(0,r.yg)("li",null,"A ",(0,r.yg)("code",null,"string")," that contains a ",(0,r.yg)("strong",{parentName:"td"},"particular substring")),(0,r.yg)("li",null,"A ",(0,r.yg)("code",null,"set")," that contains a ",(0,r.yg)("strong",{parentName:"td"},"particular element")),(0,r.yg)("li",null,"A ",(0,r.yg)("code",null,"list")," that contains a ",(0,r.yg)("strong",{parentName:"td"},"particular element"))))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"exists")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"boolean")),(0,r.yg)("td",{parentName:"tr",align:"center"},"-"),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the attribute is ",(0,r.yg)("strong",{parentName:"td"},"present in the item")," (or not)")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"type")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"string")),(0,r.yg)("td",{parentName:"tr",align:"center"},"-"),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the attribute is of a ",(0,r.yg)("strong",{parentName:"td"},"particular data type"),":",(0,r.yg)("ul",null,(0,r.yg)("li",null,(0,r.yg)("inlineCode",{parentName:"td"},'"NULL"')," = ",(0,r.yg)("inlineCode",{parentName:"td"},"null")),(0,r.yg)("li",null,(0,r.yg)("inlineCode",{parentName:"td"},'"BOOL"')," = ",(0,r.yg)("inlineCode",{parentName:"td"},"boolean")),(0,r.yg)("li",null,(0,r.yg)("inlineCode",{parentName:"td"},'"N"')," = ",(0,r.yg)("inlineCode",{parentName:"td"},"number")),(0,r.yg)("li",null,(0,r.yg)("inlineCode",{parentName:"td"},'"S"')," = ",(0,r.yg)("inlineCode",{parentName:"td"},"string")),(0,r.yg)("li",null,(0,r.yg)("inlineCode",{parentName:"td"},'"B"')," = ",(0,r.yg)("inlineCode",{parentName:"td"},"binary")),(0,r.yg)("li",null,(0,r.yg)("code",null,'"NS',"|","SS","|",'BS"')," = ",(0,r.yg)("inlineCode",{parentName:"td"},"set")," of ",(0,r.yg)("inlineCode",{parentName:"td"},"number"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"string")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"binary")),(0,r.yg)("li",null,(0,r.yg)("inlineCode",{parentName:"td"},'"L"')," = ",(0,r.yg)("inlineCode",{parentName:"td"},"list")),(0,r.yg)("li",null,(0,r.yg)("inlineCode",{parentName:"td"},'"M"')," = ",(0,r.yg)("inlineCode",{parentName:"td"},"map"))))))),(0,r.yg)("sup",null,(0,r.yg)("i",null,"*",(0,r.yg)("a",{href:"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.NamingRulesDataTypes.html#HowItWorks.DataTypes"},"Scalar")," = ",(0,r.yg)("code",null,"boolean"),", ",(0,r.yg)("code",null,"number"),", ",(0,r.yg)("code",null,"string")," or ",(0,r.yg)("code",null,"binary"))),(0,r.yg)("admonition",{title:"Examples",type:"note"},(0,r.yg)(o.A,{mdxType:"Tabs"},(0,r.yg)(i.A,{value:"eq",label:"Equal",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const nameCheck: Condition<typeof PokemonEntity> = {\n  attr: 'name',\n  eq: 'Pikachu'\n}\n"))),(0,r.yg)(i.A,{value:"neq",label:"Not equal",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const nameCheck: Condition<typeof PokemonEntity> = {\n  attr: 'name',\n  ne: 'Pikachu'\n}\n"))),(0,r.yg)(i.A,{value:"in",label:"In",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const nameCheck: Condition<typeof PokemonEntity> = {\n  attr: 'name',\n  in: ['Pikachu', 'Charizard', 'MewTwo']\n}\n"))),(0,r.yg)(i.A,{value:"contains-set-list",label:"Contains",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const pokeTypeCheck: Condition<typeof PokemonEntity> = {\n  // \ud83d\udc47 `pokeTypes` = list/set of strings\n  attr: 'pokeTypes',\n  contains: 'fire'\n}\n"))),(0,r.yg)(i.A,{value:"contains-string",label:"Contains (string)",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const nameCheck: Condition<typeof PokemonEntity> = {\n  // \ud83d\udc47 string\n  attr: 'name',\n  contains: 'Pika'\n}\n"))),(0,r.yg)(i.A,{value:"exists",label:"Exists",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const customNameCheck: Condition<typeof PokemonEntity> = {\n  attr: 'customName',\n  exists: true\n}\n"))),(0,r.yg)(i.A,{value:"type",label:"Type",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const pokeTypeCheck: Condition<typeof PokemonEntity> = {\n  // \ud83d\udc47 Checks that `pokeTypes` is a list\n  attr: 'pokeTypes',\n  type: 'L'\n}\n"))))),(0,r.yg)("h3",{id:"range-conditions"},"Range conditions"),(0,r.yg)("p",null,"Range conditions evaluate whether an attribute of sortable type (i.e. ",(0,r.yg)("a",{parentName:"p",href:"/docs/schemas/number/"},"number"),", ",(0,r.yg)("a",{parentName:"p",href:"/docs/schemas/string/"},"string")," or ",(0,r.yg)("a",{parentName:"p",href:"/docs/schemas/binary/"},"binary"),") is ",(0,r.yg)("strong",{parentName:"p"},"within a certain range"),"."),(0,r.yg)("admonition",{type:"info"},(0,r.yg)("p",{parentName:"admonition"},"Apart from the ",(0,r.yg)("a",{parentName:"p",href:"#value-conditions"},(0,r.yg)("inlineCode",{parentName:"a"},"eq")," value condition"),", only range conditions are accepted in ",(0,r.yg)("a",{parentName:"p",href:"/docs/tables/actions/query/#query"},(0,r.yg)("inlineCode",{parentName:"a"},"Query")," ranges"),".")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:"center"},"Key"),(0,r.yg)("th",{parentName:"tr",align:"center"},"Value"),(0,r.yg)("th",{parentName:"tr",align:"center"},"Attribute Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"gte")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"sortable")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"sortable")),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the attribute is ",(0,r.yg)("strong",{parentName:"td"},"greater than or equal to")," the specified value")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"gt")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"sortable"),"*"),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"sortable")),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the attribute is ",(0,r.yg)("strong",{parentName:"td"},"strictly greater")," than the specified value")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"lte")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"sortable")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"sortable")),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the attribute is ",(0,r.yg)("strong",{parentName:"td"},"lower than or equal to")," the specified value")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"lt")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"sortable")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"sortable")),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the attribute is ",(0,r.yg)("strong",{parentName:"td"},"strictly lower than")," the specified value")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"between")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"[sortable, sortable]")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"sortable")),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the attribute is ",(0,r.yg)("strong",{parentName:"td"},"between")," two values (inclusive)")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"beginsWith")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"[string, string]")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"string")),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that the ",(0,r.yg)("inlineCode",{parentName:"td"},"string")," attribute specified ",(0,r.yg)("strong",{parentName:"td"},"begins with a particular substring"))))),(0,r.yg)("sup",null,(0,r.yg)("i",null,"* Sortable = ",(0,r.yg)("code",null,"number"),", ",(0,r.yg)("code",null,"string")," or ",(0,r.yg)("code",null,"binary"))),(0,r.yg)("admonition",{title:"Examples",type:"note"},(0,r.yg)(o.A,{mdxType:"Tabs"},(0,r.yg)(i.A,{value:"greater-than",label:"\u2265",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const levelGte50: Condition<typeof PokemonEntity> = {\n  attr: 'level',\n  gte: 50\n}\n"))),(0,r.yg)(i.A,{value:"greater-than-strict",label:">",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const levelAbove50: Condition<typeof PokemonEntity> = {\n  attr: 'level',\n  gt: 50\n}\n"))),(0,r.yg)(i.A,{value:"lower-than",label:"\u2264",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const levelLte50: Condition<typeof PokemonEntity> = {\n  attr: 'level',\n  lte: 50\n}\n"))),(0,r.yg)(i.A,{value:"lower-than-strict",label:"<",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const levelBelow50: Condition<typeof PokemonEntity> = {\n  attr: 'level',\n  lt: 50\n}\n"))),(0,r.yg)(i.A,{value:"between",label:"Between",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const levelFrom50To70: Condition<typeof PokemonEntity> = {\n  attr: 'level',\n  between: [50, 70]\n}\n"))),(0,r.yg)(i.A,{value:"begins-with",label:"Begins with",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const capturedIn2024: Condition<typeof PokemonEntity> = {\n  attr: 'captureDate',\n  beginsWith: '2024'\n}\n"))))),(0,r.yg)("admonition",{type:"caution"},(0,r.yg)("p",{parentName:"admonition"},"Again, only one operator can be applied per condition: Using ",(0,r.yg)("inlineCode",{parentName:"p"},"gte")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"lte")," simultaneously does ",(0,r.yg)("strong",{parentName:"p"},"not")," result in a ",(0,r.yg)("inlineCode",{parentName:"p"},"between"),".")),(0,r.yg)("h2",{id:"combining-conditions"},"Combining Conditions"),(0,r.yg)("p",null,"You can ",(0,r.yg)("strong",{parentName:"p"},"combine conditions logically")," with the ",(0,r.yg)("inlineCode",{parentName:"p"},"or"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"and")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"not")," operators:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:"center"},"Name"),(0,r.yg)("th",{parentName:"tr",align:"center"},"Value"),(0,r.yg)("th",{parentName:"tr",align:"center"},"Attribute Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"or")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"Condition<ENTITY>[]")),(0,r.yg)("td",{parentName:"tr",align:"center"},"-"),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that ",(0,r.yg)("strong",{parentName:"td"},"one of")," the child conditions evaluate to ",(0,r.yg)("inlineCode",{parentName:"td"},"true"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"and")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"Condition<ENTITY>[]")),(0,r.yg)("td",{parentName:"tr",align:"center"},"-"),(0,r.yg)("td",{parentName:"tr",align:null},"Checks that ",(0,r.yg)("strong",{parentName:"td"},"all of")," the child conditions evaluate to ",(0,r.yg)("inlineCode",{parentName:"td"},"true"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"not")),(0,r.yg)("td",{parentName:"tr",align:"center"},(0,r.yg)("inlineCode",{parentName:"td"},"Condition<ENTITY>")),(0,r.yg)("td",{parentName:"tr",align:"center"},"-"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"td"},"Negates")," the evaluation of the condition")))),(0,r.yg)("admonition",{title:"Examples",type:"note"},(0,r.yg)(o.A,{mdxType:"Tabs"},(0,r.yg)(i.A,{value:"or",label:"Or",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const lvlGte50OrElec: Condition<typeof PokemonEntity> = {\n  or: [\n    { attr: 'level', gte: 50 },\n    { attr: 'pokeType', eq: 'electric' }\n  ]\n}\n"))),(0,r.yg)(i.A,{value:"and",label:"And",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const lvlGte50AndElec: Condition<typeof PokemonEntity> = {\n  and: [\n    { attr: 'level', gte: 50 },\n    { attr: 'pokeType', eq: 'electric' }\n  ]\n}\n"))),(0,r.yg)(i.A,{value:"not",label:"Not",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const notElectric: Condition<typeof PokemonEntity> = {\n  not: {\n    attr: 'pokeType',\n    eq: 'electric'\n  }\n}\n"))),(0,r.yg)(i.A,{value:"deep",label:"Deep",mdxType:"TabItem"},(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const deepCondition: Condition<typeof PokemonEntity> = {\n  and: [\n    {\n      // Level \u2265 50 or \u2264 20...\n      or: [\n        { attr: 'level', gte: 50 },\n        { not: { attr: 'level', gt: 20 } }\n      ]\n    },\n    // ...and pokeType not 'electric'\n    { not: { attr: 'pokeType', eq: 'electric' } }\n  ]\n}\n"))))),(0,r.yg)("h2",{id:"comparing-attributes"},"Comparing Attributes"),(0,r.yg)("p",null,"Instead of directly providing values, you can ",(0,r.yg)("strong",{parentName:"p"},"compare attributes to other attributes")," by providing objects with an ",(0,r.yg)("inlineCode",{parentName:"p"},"attr")," key to the operators:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const atMaxLevel: Condition<typeof PokemonEntity> = {\n  attr: 'level',\n  eq: { attr: 'maxLevel' }\n}\n")),(0,r.yg)("admonition",{type:"caution"},(0,r.yg)("p",{parentName:"admonition"},"Note that the compared attribute path is type-checked and validated, but whether its type CAN be compared is ",(0,r.yg)("strong",{parentName:"p"},"not")," for the moment, so be extra-careful:"),(0,r.yg)("pre",{parentName:"admonition"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"const invalidCondition: Condition<typeof PokemonEntity> = {\n  attr: 'level',\n  // \u274c Reaches DynamoDB and fail\n  gte: { attr: 'name' }\n}\n"))))}c.isMDXComponent=!0}}]);